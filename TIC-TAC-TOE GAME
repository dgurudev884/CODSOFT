#include<iostream>
#include<iomanip>
using namespace std;
char check(char p[][3]){
	if ((p[0][0]==p[1][0]) && (p[1][0]==p[2][0])){
		return p[0][0];}
	else if((p[0][0]==p[0][1]) && (p[0][1]==p[0][2])){
		return p[0][0];}
	else if((p[0][2]==p[1][2])&&(p[1][2]==p[2][2])){
		return p[0][2];}
	else if((p[2][0]==p[2][1])&&(p[2][1]==p[2][2])){
		return p[2][0];}
	else if((p[2][0]==p[1][1]) && (p[1][1]==p[0][2])){
		return p[2][0];}
	else if((p[1][0]==p[1][1])&&(p[1][1]==p[1][2])){
		return p[1][0];}
	else if((p[0][1]==p[1][1])&&(p[1][1]==p[2][1])){
		return p[0][1];}
	else if((p[0][0]==p[1][1])&&(p[1][1]==p[2][2])){
		return p[0][0];}
	else{
		return 'Q';}}
bool exist(char p[][3]){
	int count=0;
	for (int i=0;i<3;i++){
		for(int j=0;j<3;j++){
			char a=p[i][j];
			if ((a=='X') || (a=='O')){}
			else{
				count++;}}}
	if (count!=0)
	   return false;
	else
	   return true;}
void display(char o[][3]){
	for (int i=0;i<3;i++){
		for(int j=0;j<3;j++){
		cout<<o[i][j]<<" ";}
	cout<<endl;}
}
int main(){
	while(true){
	char board[3][3]={'1','2','3','4','5','6','7','8','9'};
	cout<<setw(79)<<"TIC TAC TOE"<<endl;
	cout<<"Player 1 is assigned to 'X' and Player 2 is assigned to 'O'"<<endl;
	cout<<"Your board: \n"<<endl;
	display(board);
	cout<<"\n\n\n";
	int ch=0;
	while(true){
		if (ch%2==0){
			cout<<"This chance is for player 1"<<endl;
			display(board);
			char n;
			cout<<"Enter the number where you want to fill 'X'";
			cin>>n;
			for(int i=0;i<3;i++){
				for(int j=0;j<3;j++){
					if(board[i][j]==n){
						board[i][j]='X';
						break;}}}
						char c=check(board);
						if ((c=='Q') && (exist(board)==true)){
							cout<<"THE GAME BECAME DRAW"<<endl;
							break;}
						else if((c=='X') || (c=='O')){
							if(c=='X'){
								display(board);
								cout<<"THE PLAYER 1 HAS WON THE MATCH"<<endl;
								break;}
							else{
								display(board);
								cout<<"THE PLAYER 2 HAS WON THE MATCH"<<endl;
								break;}}
						else{
							cout<<"THE MATCH IS ONGOING"<<endl;}}
		else {
			cout<<"This chance is for player 2"<<endl;
			display(board);
			char n;
			cout<<"Enter the number where you want to fill 'O'";
			cin>>n;
			for(int i=0;i<3;i++){
				for(int j=0;j<3;j++){
					if (board[i][j]==n){
						board[i][j]='O';
						break;}}}
						char c=check(board);
						if ((c=='Q') && (exist(board)==true)){
							cout<<"The game became draw"<<endl;
							break;}
						else if((c=='X') || (c=='O')){
							if(c=='X'){
								display(board);
								cout<<"THE PLAYER 1 HAS WON THE MATCH"<<endl;
								break;}
							else{
								display(board);
								cout<<"THE PLAYER 2 HAS WON THE MATCH"<<endl;
								break;}}
						else{
							cout<<"THE MATCH IS ONGOING"<<endl;}}
	ch++;}
	cout<<"Do you want to play another game (Enter 1) or Stop(Enter 2)";
	int ceh;
	cin>>ceh;
	if (ceh==1){
		continue;
	}
	else{
		break;
	}
}
return 0;}
